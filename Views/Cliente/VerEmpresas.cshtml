@{
  ViewData["Title"] = "VerEmpresas";
  var locales = ViewBag.Locales as List<dynamic>;
}

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>@ViewData["Title"] - NombreProyecto</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="estilos.css" asp-append-version="true" />
  
</head>

<body>
  <header>
    <nav class="navbar">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar">
                <div class="offcanvas-header">
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
                </div>

                <div class="offcanvas-body">
                    <ul class="navbar-nav justify-content-start">
                        <li class="nav-item">
                            <a class="nav-link1" href='@Url.Action("VerDescuentos", "Cliente")'>Productos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link1" href='@Url.Action("VerEmpresas", "Cliente")'>Empresas</a>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    </nav>
</header>


<main>
  <h4 class="Tit">Explor√° marcas y negocios para vos:</h4>

  <nav class="navbar bg-body-tertiary">
      <div class="container-fluid">
          <form class="d-flex" role="search" onsubmit="event.preventDefault();">
              <input id="buscadorEmpresas" class="form-control me-2" type="search" placeholder="Buscar empresa" aria-label="Search"/>
              <button class="btn btn-outline-success" type="submit">Buscar</button>
          </form>
      </div>
  </nav>

  <section id="lista-empresas">
      @if (ViewBag.Locales != null && ViewBag.Locales.Count > 0)
      {
          foreach (Locales local in ViewBag.Locales)
          {
              <div class="empresa-card">
                  <img src="~/img/@local.Foto" alt="Logo @local.Nombre" />
                  <p class="nombre-empresa">@local.Nombre</p>
              </div>
          }
      }
      else
      {
          <p id="mensaje-no">No hay empresas disponibles.</p>
      }
  </section>

  <p id="no-coincidencias" style="display:none; text-align:center; margin-top:15px;">
      No hay empresas que coincidan con tu b√∫squeda ‚ùå
  </p>

</main>

<footer class="footer">
  <div class="footer-top">
      <div class="footer-logo">
          <img src="img/Captura_de_pantalla_2025-03-28_122750-removebg-preview.png" alt="Logo FIFO">
          <p>Dale una segunda oportunidad a los alimentos. Reduc√≠ el desperdicio, ayud√° al planeta üåç</p>
      </div>

      <div class="footer-links">
          <div>
              <h4>Sobre FIFO</h4>
              <ul>
                  <li><a href='@Url.Action("Index", "Account")'>Que es FIFO?</a></li>
                  <li><a href='@Url.Action("Index", "Account")'>Nuestra propuesta</a></li>
                  <li><a href='@Url.Action("Index", "Account")'>Por qu√© lo hacemos?</a></li>
              </ul>
          </div>
          <div>
              <h4>Due√±o</h4>
              <ul>
                  <li><a href='@Url.Action("AgregarProducto", "Due√±o")'>Agregar producto</a></li>
                  <li><a href='@Url.Action("EliminarProducto", "Due√±o")'>Eliminar producto</a></li>
                  <li><a href='@Url.Action("AgregarProducto", "Due√±o")'>Modificar producto</a></li>
                  <li><a href='@Url.Action("VerProductosMiLocal", "Due√±o")'>Ver productos</a></li>
              </ul>
          </div>
          <div>
              <h4>Cliente</h4>
              <ul>
                  <li><a href='@Url.Action("VerEmpresas", "Due√±o")'>Ver empresas</a></li>
                  <li><a href='@Url.Action("VerProductos", "Due√±o")'>Ver productos</a></li>
              </ul>
          </div>
      </div>

      <div class="footer-bottom">
          <p>¬© 2025 FIFO | Desarrollado por el equipo FIFO</p>
      </div>
  </div>
</footer>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const inputBuscador = document.getElementById("buscadorEmpresas");
  const tarjetasEmpresas = document.querySelectorAll(".empresa-card");
  const mensajeNoResultados = document.getElementById("no-coincidencias");

  inputBuscador.addEventListener("input", function () {
      const texto = inputBuscador.value.toLowerCase();
      let hayCoincidencias = false;

      tarjetasEmpresas.forEach(card => {
          const nombre = card.querySelector(".nombre-empresa").innerText.toLowerCase();
          if (nombre.includes(texto)) {
              card.style.display = "block";
              hayCoincidencias = true;
          } else {
              card.style.display = "none";
          }
      });

      mensajeNoResultados.style.display = hayCoincidencias ? "none" : "block";
  });
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

