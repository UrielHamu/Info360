@{
    ViewData["Title"] = "VerEmpresas";
    var locales = ViewBag.Locales as List<dynamic>;
  }
  
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - NombreProyecto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="estilo.css" asp-append-version="true" />
    
  </head>
  
  <body>
    <header class="fifo-header">
        <div class="header-inner">
       
            <a class="navbar-brand d-flex align-items-center" href='@Url.Action("Index","Home")'>
                <img src="img/Logo-removebg-preview.png" alt="FIFO" class="me-2">
            </a>
    
            <button class="menu-toggle" type="button" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
    
            <ul class="nav header-nav" id="headerMenu">
                <li class="nav-item">
                    <a class="nav-link" href='@Url.Action("VerDescuentos", "Cliente")'>Productos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href='@Url.Action("VerEmpresas", "Cliente")'>Empresas</a>
                </li>
            </ul>
        </div>
    </header>
    

  
  
  <main>
    <h4 class="text-center mb-4 fw-semibold" style="font-family:'Poppins', sans-serif;">Explor√° marcas y negocios para vos:</h4>

    <div class="info-pill-wrapper empresas-pill">
        <div class="info-pill">
            <span class="info-pill-icon">i</span>
            <span>¬øPor qu√© estas empresas aparecen en FIFO?</span>
        </div>
    
        <div class="info-tooltip-card">
            <p>
                Son supermercados y negocios que eligieron sumarse a FIFO para ofrecer 
                productos pr√≥ximos a vencer con descuento. 
                As√≠ venden m√°s, vos ahorr√°s plata y juntos reducen el desperdicio de comida üåç
            </p>
        </div>
    </div>

  <section class="pasos-empresas">
    <div class="paso-item">
        <span class="paso-num">1</span>
        <h6>Busc√° una empresa</h6>
        <p>Escrib√≠ el nombre del local o marca que quieras encontrar.</p>
    </div>
    <div class="paso-item">
        <span class="paso-num">2</span>
        <h6>Eleg√≠ el negocio</h6>
        <p>Hac√© clic en la tarjeta para ver m√°s informaci√≥n del local.</p>
    </div>
    <div class="paso-item">
        <span class="paso-num">3</span>
        <h6>Mir√° sus descuentos</h6>
        <p>Explor√° los productos pr√≥ximos a vencer y aprovech√° las ofertas.</p>
    </div>
</section>

<div class="empresas-mobile">
    <button class="btn-tutorial" type="button"
            onclick="document.getElementById('tutorialEmpresas').style.display='flex'">
        ¬øC√≥mo funciona?
    </button>
</div>

<div id="tutorialEmpresas" class="tutorial-modal">
    <div class="tutorial-content">
        <h3>¬øC√≥mo usar esta pantalla?</h3>
        <ol>
            <li><strong>Busc√° una empresa</strong> escribiendo el nombre del local o la marca.</li>
            <li><strong>Eleg√≠ el negocio</strong> tocando la tarjeta de la empresa que te interese.</li>
            <li><strong>Mir√° sus descuentos</strong> y descubr√≠ los productos pr√≥ximos a vencer que ofrece.</li>
        </ol>

        <button class="btn-cerrar" type="button"
                onclick="document.getElementById('tutorialEmpresas').style.display='none'">
            Entendido
        </button>
    </div>
</div>

    <nav  class="navbar buscador-transparente">
        <div class="container-fluid">
            <form class="d-flex" role="search" onsubmit="event.preventDefault();">
                <input id="buscadorEmpresas" class="form-control me-2" type="search" placeholder="Buscar empresa" aria-label="Search"/>
                <button class="btn btn-fifo-yellow" type="submit">Buscar</button>
            </form>
        </div>
    </nav>
    <p class="hint-busqueda">Tip: escrib√≠ "Carrefour", "Dia", "Jumbo"‚Ä¶</p>

  
    <section id="lista-empresas">
        @if (ViewBag.Locales != null && ViewBag.Locales.Count > 0)
        {
            foreach (Locales local in ViewBag.Locales)
            {
                <div class="empresa-card">
                    <img src="~/img/@local.Foto" alt="Logo @local.Nombre" />
                    <p class="nombre-empresa">@local.Nombre</p>
                </div>
            }
        }
        else
        {
            <p class="productos-vacio">
                Hoy no hay productos con descuento disponibles.  
                Volv√© m√°s tarde o explor√° las <a href='@Url.Action("VerEmpresas","Cliente")'>empresas adheridas</a>.
            </p>
        }
    </section>
  
  
  
  </main>
  
  <footer class="footer">
    <div class="footer-top">
        <div class="footer-logo">
            <img src="img/Captura_de_pantalla_2025-03-28_122750-removebg-preview.png" alt="Logo FIFO">
            <p>Dale una segunda oportunidad a los alimentos. Reduc√≠ el desperdicio, ayud√° al planeta üåç</p>
        </div>
  
        <div class="footer-links">
            <div>
                <h4>Sobre FIFO</h4>
                <ul>
                    <li><a href='@Url.Action("Index", "Account")'>Que es FIFO?</a></li>
                    <li><a href='@Url.Action("Index", "Account")'>Nuestra propuesta</a></li>
                    <li><a href='@Url.Action("Index", "Account")'>Por qu√© lo hacemos?</a></li>
                </ul>
            </div>
            <div>
                <h4>Due√±o</h4>
                <ul>
                    <li><a href='@Url.Action("AgregarProducto", "Due√±o")'>Agregar producto</a></li>
                    <li><a href='@Url.Action("EliminarProducto", "Due√±o")'>Eliminar producto</a></li>
                    <li><a href='@Url.Action("AgregarProducto", "Due√±o")'>Modificar producto</a></li>
                    <li><a href='@Url.Action("VerProductosMiLocal", "Due√±o")'>Ver productos</a></li>
                </ul>
            </div>
            <div>
                <h4>Cliente</h4>
                <ul>
                    <li><a href='@Url.Action("VerEmpresas", "Due√±o")'>Ver empresas</a></li>
                    <li><a href='@Url.Action("VerProductos", "Due√±o")'>Ver productos</a></li>
                </ul>
            </div>
        </div>
  
        <div class="footer-bottom">
            <p>¬© 2025 FIFO | Desarrollado por el equipo FIFO</p>
        </div>
    </div>
  </footer>
  
  <script>
  document.addEventListener("DOMContentLoaded", function () {
    const inputBuscador = document.getElementById("buscadorEmpresas");
    const tarjetasEmpresas = document.querySelectorAll(".empresa-card");
    const mensajeNoResultados = document.getElementById("no-coincidencias");
  
    inputBuscador.addEventListener("input", function () {
        const texto = inputBuscador.value.toLowerCase();
        let hayCoincidencias = false;
  
        tarjetasEmpresas.forEach(card => {
            const nombre = card.querySelector(".nombre-empresa").innerText.toLowerCase();
            if (nombre.includes(texto)) {
                card.style.display = "block";
                hayCoincidencias = true;
            } else {
                card.style.display = "none";
            }
        });
  
        mensajeNoResultados.style.display = hayCoincidencias ? "none" : "block";
    });
  });
  function toggleMenu() {
        const menu = document.getElementById('headerMenu');
        if (menu) {
            menu.classList.toggle('menu-open');
        }
    }
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
  </html>
  
  
