@{
    ViewData["Title"] = "NuevaView";
  }
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - NombreProyecto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="estilo.css" asp-append-version="true" />
  </head>
  
  
  <body>
    <header class="fifo-header">
        <div class="header-inner">
            <a class="navbar-brand d-flex align-items-center" href='@Url.Action("Index","Home")'>
                <img src="img/Logo-removebg-preview.png" alt="FIFO" class="me-2">
            </a>
    
            <button class="menu-toggle" type="button" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
    
            <ul class="nav header-nav" id="headerMenu">
                <li class="nav-item">
                    <a class="nav-link" href='@Url.Action("NuevaView", "Due√±o")'>Ver productos generales de mi local</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href='@Url.Action("VerProductosMiLocal", "Due√±o")'> Ver productos con descuentos</a>
                </li>
            </ul>
        </div>
    </header>
   
  <main class="owner-main">
    <h4 class="text-center mb-4 fw-semibold" style="font-family:'Poppins', sans-serif;">Estos son los productos de tu negocio:</h4>

    <section class="pasos-empresas pasos-desktop">
        <div class="paso-item">
            <span class="paso-num">1</span>
            <h6>Revis√° tus productos cargados</h6>
            <p>Mir√° la foto, categor√≠a, fecha de vencimiento y precios ya publicados en FIFO.</p>
        </div>
    
        <div class="paso-item">
            <span class="paso-num">2</span>
            <h6>Manten√© tu stock actualizado</h6>
            <p>Si un producto ya no est√° disponible, pod√©s usar <strong>‚ÄúEliminar‚Äù</strong> para sacarlo de tu tienda.</p>
        </div>
    
        <div class="paso-item">
            <span class="paso-num">3</span>
            <h6>Control√° tus vencimientos</h6>
            <p>Verific√° cu√°les productos est√°n por vencer as√≠ pod√©s actualizar precios o quitarlos.</p>
        </div>
    </section>

<div class="pasos-mobile">
    <button class="btn-tutorial" type="button"
            onclick="document.getElementById('tutorialVerMisProductos').style.display='flex'">
        ¬øC√≥mo funciona?
    </button>
</div>

<div id="tutorialVerMisProductos" class="tutorial-modal">
    <div class="tutorial-content">
        <h3>¬øC√≥mo usar esta pantalla?</h3>

        <ol>
            <li><strong>Revis√° tus productos:</strong> foto, nombre, categor√≠a, precio original y precio con descuento.</li>
            <li><strong>Control√° vencimientos:</strong> revis√° qu√© productos est√°n por vencer.</li>
            <li><strong>Eliminar:</strong> si ya no est√° disponible o no quer√©s que aparezca m√°s en FIFO.</li>
            <li>Manten√© tu tienda ordenada y siempre actualizada para tus clientes.</li>
        </ol>

        <button class="btn-cerrar"
                onclick="document.getElementById('tutorialVerMisProductos').style.display='none'">
            Entendido
        </button>
    </div>
</div>


    @if (ViewBag.ProductosMiLocal == null)
    {
        <p class="productos-resumen text-danger">No ten√©s ning√∫n producto.</p>
    }
    else
    {
        <p class="productos-resumen text-success">
            Cantidad de productos: @ViewBag.ProductosMiLocal.Count
        </p>
    }

    @if (ViewBag.ProductosMiLocal != null)
    {
        <div class="productos-grid">

                @foreach (ProductosTemporalesVto producto in ViewBag.ProductosMiLocal)
                {
                    <section class="producto-cardFIFO">
                            <!-- Imagen del producto -->
                            <img src="~/img/@producto.Foto"
                                 class="card-img-top producto-img"
                                 alt="Foto de @producto.Nombre" />

                                 <div class="producto-infoFIFO">

                                <h5 class="card-title">@producto.Nombre</h5>

                                <p class="card-text text-muted mb-1">
                                    <strong>Supermercado:</strong> @producto.Local
                                </p>

                                <p class="card-text text-muted mb-1">
                                    <strong>Categor√≠a:</strong> @producto.Categoria
                                </p>

                                <p class="card-text text-muted mb-1">
                                    <strong>Precio original:</strong> $@producto.PrecioInicial
                                </p>

                                <p class="precio-descuento">
                                    <strong>Precio con descuento:</strong>
                                    $@producto.PrecioConDescuento
                                </p>
                                <p class="card-text text-muted mb-1">
                                    <strong>Vence:</strong> @producto.FechaVencimiento.ToString("dd/MM/yyyy")
                                </p>

                                <form action='@Url.Action("EliminarProducto", "Due√±o")'
                                      method="POST"
                                      class="mt-auto">
                                    <input type="hidden" name="Id" value="@producto.IdLocalesProductosVto" />
                                    <button type="submit" class="btn-eliminar w-100">
                                        Eliminar
                                    </button>
                                </form>

                            </div>
                        </section>
                        
                }
        </div>
    }
</main>
  
  
  <footer class="footer">
    <div class="footer-top">
        <div class="footer-logo">
            <img src="img/Captura_de_pantalla_2025-03-28_122750-removebg-preview.png" alt="Logo FIFO">
            <p>Dale una segunda oportunidad a los alimentos. Reduc√≠ el desperdicio, ayud√° al planeta üåç</p>
        </div>
  
  
        <div class="footer-links">
            <div>
               <h4>Sobre FIFO</h4>
              <ul>
                  <li><a href='@Url.Action("Index", "Account")'>Que es FIFO?</a></li>
                  <li><a href='@Url.Action("Index", "Account")'>Nuestra propuesta</a></li>
                  <li><a href='@Url.Action("Index", "Account")'>Por qu√© lo hacemos?</a></li>
              </ul>
          </div>
          <div>
              <h4>Due√±o</h4>
              <ul>
                  <li><a href='@Url.Action("AgregarProducto", "Due√±o")'>Agregar producto</a></li>
                  <li><a href='@Url.Action("EliminarProducto", "Due√±o")'>Eliminar producto</a></li>
                  <li><a href='@Url.Action("AgregarProducto", "Due√±o")'>Modificar producto</a></li>
                  <li><a href='@Url.Action("VerProductosMiLocal", "Due√±o")'>Ver productos</a></li>
              </ul>
          </div>
          <div>
              <h4>Cliente</h4>
              <ul>
                  <li><a href='@Url.Action("VerEmpresas", "Due√±o")'>Ver empresas</a></li>
                  <li><a href='@Url.Action("VerProductos", "Due√±o")'>Ver productos</a></li>
              </ul>
          </div>
        </div>
  
  
    <div class="footer-bottom">
        <p>¬© 2025 FIFO | Desarrollado por el equipo FIFO</p>
    </div>
  </footer>
  <script src="./site.js"></script>
  <script>
    function toggleMenu() {
          const menu = document.getElementById('headerMenu');
          if (menu) {
              menu.classList.toggle('menu-open');
          }
      }
      document.addEventListener("DOMContentLoaded", function () {
      const modal   = document.getElementById("tutorialAgregar");
      const abrir   = document.getElementById("btnTutorialAgregar");
      const cerrar  = document.getElementById("btnCerrarTutorialAgregar");

      if (abrir && modal) {
          abrir.addEventListener("click", function () {
              modal.style.display = "flex";
          });
      }

      if (cerrar && modal) {
          cerrar.addEventListener("click", function () {
              modal.style.display = "none";
          });
      }

      window.addEventListener("click", function (e) {
          if (e.target === modal) {
              modal.style.display = "none";
          }
      });
  });
    </script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
  </html>
  
  
  
  
