@{
    ViewData["Title"] = "FormularioModificar";
  }
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - NombreProyecto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="estilo.css" asp-append-version="true" />
  </head>
  
  
  <body>
    <header class="fifo-header">
        <div class="header-inner">
            <!-- Logo -->
            <a class="navbar-brand d-flex align-items-center" href='@Url.Action("Index","Home")'>
                <img src="img/Logo-removebg-preview.png" alt="FIFO" class="me-2">
            </a>
    
            <!-- Bot√≥n hamburguesa SOLO para mobile -->
            <button class="menu-toggle" type="button" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
    
            <!-- Men√∫ -->
            <ul class="nav header-nav" id="headerMenu">
                <li class="nav-item">
                    <a class="nav-link" href='@Url.Action("NuevaView", "Due√±o")'>Ver productos generales de mi local</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href='@Url.Action("VerProductosMiLocal", "Due√±o")'> Ver productos con descuentos</a>
                </li>
            </ul>
        </div>
    </header>
    <main class="producto-add-main">

        <section class="pasos-empresas pasos-desktop">
            <div class="paso-item">
                <span class="paso-num">1</span>
                <h6>Revis√° la info del producto</h6>
                <p>Cheque√° la fecha de vencimiento, el stock disponible y el precio actual con descuento.</p>
            </div>
            <div class="paso-item">
                <span class="paso-num">2</span>
                <h6>Defin√≠ el nuevo precio</h6>
                <p>Ingres√° el precio con descuento que quieras mostrar en FIFO para tus clientes.</p>
            </div>
            <div class="paso-item">
                <span class="paso-num">3</span>
                <h6>Guard√° los cambios</h6>
                <p>Hac√© clic en <strong>‚ÄúGuardar precio‚Äù</strong> para actualizar la oferta en la app.</p>
            </div>
        </section>

        
<!-- MOBILE: solo bot√≥n "¬øC√≥mo funciona?" -->
<div class="pasos-mobile">
    <button id="btnTutorialModificar" class="btn-tutorial" type="button">
        ¬øC√≥mo funciona?
    </button>
  </div>
  
  <!-- MODAL TUTORIAL -->
  <div id="tutorialModal" class="tutorial-modal">
    <div class="tutorial-content">
        <h3>¬øC√≥mo modificar el precio?</h3>
        <ol>
            <li>Revis√° el stock, la fecha de vencimiento y el precio actual.</li>
            <li>En <strong>‚ÄúNuevo precio‚Äù</strong>, escrib√≠ el valor final con descuento.</li>
            <li>Ese es el precio que va a ver el cliente cuando navegue FIFO.</li>
            <li>Hac√© clic en <strong>‚ÄúGuardar precio‚Äù</strong> para aplicar el cambio.</li>
        </ol>
  
        <button id="btnCerrarTutorialAgregar" class="btn-cerrar">
            Entendido
        </button>
    </div>
  </div>

      <section class="producto-add-container">
  
          <!-- CABECERA PRODUCTO (mismo estilo que Agregar) -->
          <div class="producto-header">
              @if (ViewBag.Producto.Foto != null)
              {
                  <img src="~/img/@ViewBag.Producto.Foto"
                       alt="@ViewBag.Producto.Nombre"
                       class="producto-img" />
              }
  
              <div class="producto-info-top">
                  <span class="producto-tag">@ViewBag.Producto.Categoria</span>
  
                  <h1 class="producto-nombre">
                      @ViewBag.Producto.Nombre
                  </h1>
  
                  <p class="producto-sub">
                      Actualiz√° el <strong>precio con descuento</strong>
                      que van a ver tus clientes en FIFO.
                  </p>
  
                  <!-- NUEVO BLOQUE ORDENADO -->
                  <ul class="producto-list">
                      <li><strong>Vence:</strong> @ViewBag.Producto.FechaVencimiento</li>
                      <li><strong>Stock:</strong> @ViewBag.Producto.Cantidad</li>
                      <li><strong>Precio actual:</strong> $@ViewBag.Producto.PrecioConDescuento</li>
                  </ul>
              </div>
  
            </div>
        
  
          <!-- CARD DEL FORM (igual que Agregar, pero con otro campo) -->
          <div class="producto-card-add">
              <form action='@Url.Action("RecibirModificarProducto", "Due√±o")'
                    method="POST">
  
                  <input type="hidden" name="Id" value="@ViewBag.Producto.IdProducto" />
  
                  <div class="mb-3">
                      <label class="form-label">Nuevo precio</label>
                      <input type="number"
                             name="Precio"
                             class="form-control"
                             placeholder="@ViewBag.Producto.PrecioInicial"
                             required />
                  </div>
  
                  <button type="submit" class="btn btn-fifoO w-100">
                      Guardar precio
                  </button>
              </form>
          </div>
  
      </section>
  </main>
  
  
  
  <footer class="footer">
    <div class="footer-top">
        <div class="footer-logo">
            <img src="img/Captura_de_pantalla_2025-03-28_122750-removebg-preview.png" alt="Logo FIFO">
            <p>Dale una segunda oportunidad a los alimentos. Reduc√≠ el desperdicio, ayud√° al planeta üåç</p>
        </div>
  
  
        <div class="footer-links">
            <div>
                <h4>Sobre FIFO</h4>
                <ul>
                    <li><a href='@Url.Action("Index", "Account")'>Que es FIFO?</a></li>
                    <li><a href='@Url.Action("Index", "Account")'>Nuestra propuesta</a></li>
                    <li><a href='@Url.Action("Index", "Account")'>Por qu√© lo hacemos?</a></li>
                </ul>
            </div>
            <div>
                <h4>Due√±o</h4>
                <ul>
                    <li><a href='@Url.Action("AgregarProducto", "Due√±o")'>Agregar producto</a></li>
                    <li><a href='@Url.Action("EliminarProducto", "Due√±o")'>Eliminar producto</a></li>
                    <li><a href='@Url.Action("AgregarProducto", "Due√±o")'>Modificar producto</a></li>
                    <li><a href='@Url.Action("VerProductosMiLocal", "Due√±o")'>Ver productos</a></li>
                </ul>
            </div>
            <div>
                <h4>Cliente</h4>
                <ul>
                    <li><a href='@Url.Action("VerEmpresas", "Due√±o")'>Ver empresas</a></li>
                    <li><a href='@Url.Action("VerProductos", "Due√±o")'>Ver productos</a></li>
                </ul>
            </div>
        </div>
  
  
    <div class="footer-bottom">
        <p>¬© 2025 FIFO | Desarrollado por el equipo FIFO</p>
    </div>
  </footer>
  <script src="./site.js"></script>
  <script>
    function toggleMenu() {
          const menu = document.getElementById('headerMenu');
          if (menu) {
              menu.classList.toggle('menu-open');
          }
      }
      document.addEventListener("DOMContentLoaded", function () {
      const modal   = document.getElementById("tutorialModal");
      const abrir   = document.getElementById("btnTutorialModificar");
      const cerrar  = document.getElementById("btnCerrarTutorialAgregar");

      if (abrir && modal) {
          abrir.addEventListener("click", function () {
              modal.style.display = "flex";
          });
      }

      if (cerrar && modal) {
          cerrar.addEventListener("click", function () {
              modal.style.display = "none";
          });
      }

      // cerrar si hace click afuera del recuadro
      window.addEventListener("click", function (e) {
          if (e.target === modal) {
              modal.style.display = "none";
          }
      });
  });
    </script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
  </html>
 
